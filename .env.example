# ========================================
# PayCollect - Local Setup Configuration
# ========================================
# Copy this file to .env and fill in your local PostgreSQL credentials

# ========================================
# DATABASE CONFIGURATION
# ========================================
# PostgreSQL local connection string
# Format: postgresql://usuario:senha@host:porta/nome_banco_de_dados

DATABASE_URL=postgresql://postgres:postgres@localhost:5432/PayCollect
PGHOST=localhost
PGPORT=5432
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=PayCollect

# ========================================
# SESSION CONFIGURATION
# ========================================
# Secret key for session encryption (change in production)
SESSION_SECRET=dev-secret-change-in-production

# ========================================
# NODE ENVIRONMENT
# ========================================
NODE_ENV=development

# ========================================
# SETUP INSTRUCTIONS
# ========================================
#
# 1. Install PostgreSQL locally
#    - Windows: Download from https://www.postgresql.org/download/windows/
#    - macOS: brew install postgresql
#    - Linux: sudo apt-get install postgresql postgresql-contrib
#
# 2. Create the PayCollect database
#    Option A (Command line):
#      createdb PayCollect
#    
#    Option B (Using psql):
#      psql -U postgres
#      CREATE DATABASE "PayCollect";
#      \q
#
# 3. Update this file (.env) with your PostgreSQL credentials
#    - If you used default PostgreSQL installation, usually:
#      PGUSER=postgres
#      PGPASSWORD=postgres (or blank if you set no password)
#
# 4. Test the connection
#    psql -U postgres -d PayCollect -c "SELECT version();"
#
# 5. Run database migrations
#    npm run db:push
#
# 6. Start the application
#    npm run dev
#
# 7. Access the app
#    - Customer App: http://localhost:3000
#    - Admin Panel: http://localhost:3000/admin
#    - Admin Login: admin / admin123
#
# ========================================
# TROUBLESHOOTING
# ========================================
#
# ERROR: "connect ECONNREFUSED 127.0.0.1:5432"
#   → PostgreSQL service is not running
#   → macOS: brew services start postgresql
#   → Windows: Start PostgreSQL from Services or pgAdmin
#   → Linux: sudo systemctl start postgresql
#
# ERROR: "FATAL: role "postgres" does not exist"
#   → Check your PGUSER and PGPASSWORD values
#   → Run: psql -U postgres (to verify user exists)
#
# ERROR: "database "PayCollect" does not exist"
#   → Create the database with: createdb PayCollect
#   → Or via psql: CREATE DATABASE "PayCollect";
#
# Can't connect to local PostgreSQL?
#   → Check if PostgreSQL is listening on localhost:5432
#   → psql -h localhost -U postgres -c "SELECT 1;"
#
